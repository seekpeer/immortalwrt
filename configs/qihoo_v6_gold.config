# ==========================================================
# 360 V6 (IPQ6000) GOLD CONFIGURATION - 23.05+ FINAL
# PURPOSE: FOR NIKKI (FIREWALL4), NAND FIXED, NSS ENABLED
# ==========================================================

# 1. 目标平台锁定 (核心指纹，确保不退回 x86)
CONFIG_TARGET_qualcommax=y
CONFIG_TARGET_qualcommax_ipq60xx=y
CONFIG_TARGET_DEVICE_qualcommax_ipq60xx_DEVICE_qihoo_v6=y
CONFIG_TARGET_BOARD="qualcommax"
CONFIG_TARGET_SUBTARGET="ipq60xx"

# 2. 硬件特性锁定 (NAND 闪存与单设备模式)
CONFIG_HAS_NAND=y
CONFIG_TARGET_MULTI_PROFILE=n
CONFIG_TARGET_PER_DEVICE_ROOTFS=y

# 3. 分区参数固化 (512MB 确保 Nikki/Docker 等空间充足)
CONFIG_TARGET_KERNEL_PARTSIZE=64
CONFIG_TARGET_ROOTFS_PARTSIZE=512

# 4. 性能引擎：NSS 硬件加速驱动全开
CONFIG_ATH11K_MEM_PROFILE_512M=y
CONFIG_NSS_DRV_BRIDGE_ENABLE=y
CONFIG_NSS_DRV_CLMAP_ENABLE=y
CONFIG_NSS_DRV_GRE_ENABLE=y
CONFIG_NSS_DRV_IGS_ENABLE=y
CONFIG_NSS_DRV_IPV4_REASM_ENABLE=y
CONFIG_NSS_DRV_IPV6_REASM_ENABLE=y
CONFIG_NSS_DRV_PVXLAN_ENABLE=y
CONFIG_NSS_DRV_VLAN_ENABLE=y
CONFIG_NSS_DRV_VXLAN_ENABLE=y

# 5. 系统底层核心工具链 (强制内置 =y)
CONFIG_PACKAGE_util-linux-flock=y
CONFIG_PACKAGE_coreutils-nohup=y
CONFIG_PACKAGE_unzip=y
CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_ca-bundle=y
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_autocore-arm=y

# 6. 魔法插件：Nikki 与 Passwall (支持 Mihomo 核心)
CONFIG_PACKAGE_luci-app-nikki=y
CONFIG_PACKAGE_luci-i18n-nikki-zh-cn=y
CONFIG_PACKAGE_luci-app-passwall=y
CONFIG_PACKAGE_luci-i18n-passwall-zh-cn=y
CONFIG_PACKAGE_xray-core=y

# 7. 防火墙与底层协议 (Nikki/Firewall4 必备依赖)
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_kmod-nft-tproxy=y
CONFIG_PACKAGE_kmod-nft-socket=y
CONFIG_PACKAGE_kmod-nft-nat=y
CONFIG_PACKAGE_kmod-nft-fib=y
CONFIG_PACKAGE_kmod-inet-diag=y

# 8. 管理界面与特色服务
CONFIG_PACKAGE_luci-app-turboacc=y
CONFIG_PACKAGE_luci-app-cpufreq=y
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-app-filetransfer=y
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_PACKAGE_luci-compat=y
CONFIG_PACKAGE_openssh-sftp-server=y

# 9. 界面汉化与系统优化库
CONFIG_PACKAGE_luci-i18n-turboacc-zh-cn=y
CONFIG_PACKAGE_luci-i18n-ttyd-zh-cn=y
CONFIG_PACKAGE_luci-i18n-filetransfer-zh-cn=y
CONFIG_PACKAGE_luci-i18n-cpufreq-zh-cn=y
CONFIG_PACKAGE_zram-swap=y
CONFIG_PACKAGE_kmod-tcp-bbr=y
CONFIG_PACKAGE_kmod-tun=y
